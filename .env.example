# --------------------------------------
# Application Configuration
# --------------------------------------
# Environment mode (e.g., development, production)
NODE_ENV=
# The port the backend server will run on
BPORT=
# Backend URL that ONLYOFFICE can access
BACKEND_URL=

# --------------------------------------
# Database Configuration
# --------------------------------------
# Host for the database
DB_HOST=
# Port for the database
DB_PORT=
# Username for the database
DB_USER=
# Password for the database user
DB_PASSWORD=
# Name of the database
DB_NAME=
# SSL mode for database connection (e.g., disable, require)
DB_SSLMODE=

# --------------------------------------
# JSON Web Token (JWT) & Session Security
# --------------------------------------
# Secret key for signing JWTs
JWT_SECRET=
# Enable session binding to prevent token theft (default: true)
# When enabled, tokens are bound to the user's browser fingerprint
# Set to 'false' only if users frequently change browsers/devices
SESSION_BINDING=

# --------------------------------------
# Google OAuth 2.0 Configuration
# --------------------------------------
# Google Client ID for OAuth
GOOGLE_CLIENT_ID=
# Google Client Secret for OAuth
GOOGLE_CLIENT_SECRET=
# Redirect URI for Google OAuth callback (should be http://YOUR_DOMAIN/api/google/callback)
GOOGLE_REDIRECT_URI=

# --------------------------------------
# File Uploads & Storage
# --------------------------------------
# Directory to store uploaded files
UPLOAD_DIR=
# File encryption key for encrypting uploaded files (when custom_drive is disabled)
# Generate a secure 32-byte key: openssl rand -base64 32
# Or use hex: openssl rand -hex 32
# If not set, a development default will be used (NOT SECURE for production)
FILE_ENCRYPTION_KEY=

# --------------------------------------
# ONLYOFFICE Integration
# --------------------------------------
# Note: OnlyOffice is now configured in the Settings page (admin only).
# No environment variables needed for OnlyOffice configuration.
# Administrators can configure OnlyOffice JWT secret and URL from the Settings page.

# --------------------------------------
# Drive Agent Configuration
# --------------------------------------
# Token for agent webhook authentication (optional but recommended)
# Used to secure the /api/agent/webhook endpoint
# Generate a secure token: openssl rand -base64 32
AGENT_WEBHOOK_TOKEN=
#
# Note: Agent URL and token are configured in the Settings page (admin only).
# Administrators can configure agent URL and token from Settings â†’ Custom Drive Management.
#
# The agent runs on the host (not in Docker):
#   - Build: cd agent && go build -o tma-agent main.go
#   - Add paths: tma-agent add --path /mnt/nas_drive
#   - Start: tma-agent start
#
# IMPORTANT: Docker Networking
# When the app runs in Docker and agent runs on host, use these URLs:
#   - Windows/Mac: http://host.docker.internal:8080
#   - Linux: http://172.17.0.1:8080 (or your host's IP address)
#   - Local development (no Docker): http://localhost:8080
#
# Then configure the agent URL and token in the Settings page.

# --------------------------------------
# Logging & Audit System
# --------------------------------------
# Logging level for pino logger (debug, info, warn, error)
# Use 'debug' for development, 'info' or 'warn' for production
LOG_LEVEL=

# Log output format: 'pretty' for human-readable, 'json' for machine-readable
# Use 'pretty' for development/debugging, 'json' for production/log aggregators
LOG_FORMAT=

# Comma-separated list of IP addresses allowed to access /metrics endpoint
# In production, set this to your Prometheus server IP(s)
# Example: 127.0.0.1,10.0.0.100,192.168.1.50
METRICS_ALLOWED_IPS=

# Number of concurrent audit events the worker processes
# Default: 5 (increase if you have high audit volume)
AUDIT_WORKER_CONCURRENCY=
# Time-to-live for audit jobs in seconds (must be < 86400; default 23h)
AUDIT_JOB_TTL_SECONDS=

# --------------------------------------
# Redis Configuration
# --------------------------------------
# Redis host address
REDIS_HOST=
# Redis port number
REDIS_PORT=
# Redis password (leave empty if no password)
REDIS_PASSWORD=
# Redis database number (default: 0)
REDIS_DB=

# --------------------------------------
# Application Configuration
# --------------------------------------
# Environment mode (e.g., development, production)
NODE_ENV=
# The port the backend server will run on
BPORT=
# Backend URL that ONLYOFFICE can access
BACKEND_URL=
# Optional: Custom base URL for public share links (defaults to request host)
SHARE_BASE_URL=

# --------------------------------------
# Database Configuration
# --------------------------------------
# Host for the database
DB_HOST=
# Port for the database
DB_PORT=
# Username for the database
DB_USER=
# Password for the database user
DB_PASSWORD=
# Name of the database
DB_NAME=
# SSL mode for database connection (e.g., disable, require)
DB_SSLMODE=

# --------------------------------------
# JSON Web Token (JWT) & Session Security
# --------------------------------------
# Secret key for signing JWTs
JWT_SECRET=
# Enable session binding to prevent token theft (default: true)
# When enabled, tokens are bound to the user's browser fingerprint
# Set to 'false' only if users frequently change browsers/devices
SESSION_BINDING=

# --------------------------------------
# Google OAuth 2.0 Configuration
# --------------------------------------
# Google Client ID for OAuth
GOOGLE_CLIENT_ID=
# Google Client Secret for OAuth
GOOGLE_CLIENT_SECRET=
# Redirect URI for Google OAuth callback (should be http://YOUR_DOMAIN/api/google/callback)
GOOGLE_REDIRECT_URI=

# --------------------------------------
# File Uploads & Storage
# --------------------------------------
# Directory to store uploaded files
UPLOAD_DIR=
# File encryption key for encrypting uploaded files (when custom_drive is disabled)
# Generate a secure 32-byte key: openssl rand -base64 32
# Or use hex: openssl rand -hex 32
# If not set, a development default will be used (NOT SECURE for production)
FILE_ENCRYPTION_KEY=

# --------------------------------------
# ONLYOFFICE Integration
# --------------------------------------
# Note: OnlyOffice is now configured in the Settings page (admin only).
# No environment variables needed for OnlyOffice configuration.
# Administrators can configure OnlyOffice JWT secret and URL from the Settings page.

# --------------------------------------
# Custom Drive Integration (Per-User Settings)
# --------------------------------------
# Note: Custom drive is now configured per-user in the web application settings.
# Users can enable/disable and set their own custom drive path from the Settings page.
# No environment variables needed for custom drive functionality.
#
# Docker only: If you want to mount host directories for users to use as custom drive:
#   Set CUSTOM_DRIVE_MOUNT_1, CUSTOM_DRIVE_MOUNT_2, etc. in your .env file (add more as needed)
#   Format: CUSTOM_DRIVE_MOUNT_N=/host/path:/container/path (REQUIRED - colon separator is mandatory)
#   Example: CUSTOM_DRIVE_MOUNT_1=/mnt/nas_drive:/data/custom_drive
#   Example: CUSTOM_DRIVE_MOUNT_2=/mnt/data_col:/data_col
#   Example: CUSTOM_DRIVE_MOUNT_3=/mnt/backup:/data/backup
#   Also uncomment corresponding mount lines in docker-compose.yml when adding more mounts
#
# IMPORTANT: 
#   - Format MUST include colon separator (host:container), e.g., /mnt/nas:/data/custom_drive
#   - Leave empty if not using that mount slot (will use placeholder that won't consume storage)
#   - Backend will reject placeholder paths if users try to use them
#   - All custom drive paths MUST be mounted as volumes in Docker
#   - The backend will NOT create directories - they must already exist as mounted volumes
#   - The backend will only validate that paths exist and are accessible
CUSTOM_DRIVE_MOUNT_1=
CUSTOM_DRIVE_MOUNT_2=
# Add more as needed (CUSTOM_DRIVE_MOUNT_3, CUSTOM_DRIVE_MOUNT_4, etc.)
# Add more as needed

# --------------------------------------
# Logging & Audit System
# --------------------------------------
# Logging level for pino logger (debug, info, warn, error)
# Use 'debug' for development, 'info' or 'warn' for production
LOG_LEVEL=

# Log output format: 'pretty' for human-readable, 'json' for machine-readable
# Use 'pretty' for development/debugging, 'json' for production/log aggregators
LOG_FORMAT=

# Comma-separated list of IP addresses allowed to access /metrics endpoint
# In production, set this to your Prometheus server IP(s)
# Example: 127.0.0.1,10.0.0.100,192.168.1.50
METRICS_ALLOWED_IPS=

# Number of concurrent audit events the worker processes
# Default: 5 (increase if you have high audit volume)
AUDIT_WORKER_CONCURRENCY=
# Time-to-live for audit jobs in seconds (must be < 86400; default 23h)
AUDIT_JOB_TTL_SECONDS=

# --------------------------------------
# Redis Configuration
# --------------------------------------
# Redis host address
REDIS_HOST=
# Redis port number
REDIS_PORT=
# Redis password (leave empty if no password)
REDIS_PASSWORD=
# Redis database number (default: 0)
REDIS_DB=
